(this["webpackJsonpmbqc-simulator"]=this["webpackJsonpmbqc-simulator"]||[]).push([[0],{20:function(e,t,a){e.exports=a(29)},25:function(e,t,a){},26:function(e,t,a){},29:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(15),l=a.n(r),c=(a(25),a(3)),o=a(5),s=a(4),u=a(7),h=a(6),d=a(8),p=(a(26),a(19)),m=a(11),f=a(28),v=function(){function e(t){Object(o.a)(this,e);var a=f.matrix(t).size();if(a[0]!=a[1])throw new Error("Mishapen Adjacency Matrix :: The given matrix is "+a[0]+"x"+a[1]+", but it should be square (e.g. "+a[0]+"x"+a[0]+")");this.numVerticies=a[0];for(var n=0;n<this.numVerticies;n++)for(var i=n;i<this.numVerticies;i++)if(t[n][i]!=t[i][n])throw new Error("Non-symmetric Adjacency Matrix :: The given value at "+n+","+i+" should be equal to the value at "+i+","+n);this.adjacencyMatrix=f.matrix(t);var r=f.matrix([[1/f.sqrt(2)],[1/f.sqrt(2)]]);this.state=r;for(var l=0;l<this.numVerticies-1;l++)this.state=f.kron(this.state,r);var c=!0,s=!1,u=void 0;try{for(var h,d=this.edges()[Symbol.iterator]();!(c=(h=d.next()).done);c=!0){var p=h.value;console.log("performing cZ on ("+p[0]+","+p[1]+")"),this.cZ(p[0],p[1])}}catch(m){s=!0,u=m}finally{try{c||null==d.return||d.return()}finally{if(s)throw u}}console.log(":: Blank Graph Construction Complete ::"),console.log()}return Object(s.a)(e,[{key:"neighbors",value:function(e){for(var t=[],a=0;a<this.numVerticies;a++)1===this.adjacencyMatrix.valueOf()[e][a]&&(t=t.concat(a));return t}},{key:"edges",value:function(){for(var e=[],t=0;t<this.numVerticies;t++)for(var a=t;a<this.numVerticies;a++)1===f.subset(this.adjacencyMatrix,f.index(t,a))&&(e=e.concat([[t,a]]));return e}},{key:"oneQubitUnitary",value:function(e,t){for(var a=0===t?e:[[1,0],[0,1]],n=1;n<this.numVerticies;n++)a=n===t?f.kron(a,e):f.kron(a,[[1,0],[0,1]]);this.state=f.multiply(a,this.state)}},{key:"cZ",value:function(e,t){for(var a=f.matrix([[1,0],[0,1]]),n=f.matrix([[1,0],[0,0]]),i=f.matrix([[0,0],[0,1]]),r=f.matrix([[1,0],[0,-1]]),l=0==e?n:a,c=1;c<this.numVerticies;c++)l=e===c?f.kron(l,n):f.kron(l,a);for(var o=0===e?i:a,s=1;s<this.numVerticies;s++)o=e===s?f.kron(o,i):t===s?f.kron(o,r):f.kron(o,a);var u=f.add(l,o);this.state=f.multiply(u,this.state),console.log("completed cZ on edge ("+e+","+t+")")}},{key:"measureZ",value:function(e){var t=this.adjacencyMatrix.valueOf(),a=!0,n=!1,i=void 0;try{for(var r,l=this.neighbors(e)[Symbol.iterator]();!(a=(r=l.next()).done);a=!0){var c=r.value;t[e][c]=0,t[c][e]=0}}catch(o){n=!0,i=o}finally{try{a||null==l.return||l.return()}finally{if(n)throw i}}this.adjacencyMatrix=f.matrix(t)}},{key:"measureY",value:function(e){var t=this.adjacencyMatrix.valueOf();var a=!0,n=!1,i=void 0;try{for(var r,l=function(e,t){var a=[],n=!0,i=!1,r=void 0;try{for(var l,c=e[Symbol.iterator]();!(n=(l=c.next()).done);n=!0){var o=l.value,s=!0,u=!1,h=void 0;try{for(var d,p=t[Symbol.iterator]();!(s=(d=p.next()).done);s=!0){var m=d.value;o!=m&&(a=a.concat([[o,m]]))}}catch(f){u=!0,h=f}finally{try{s||null==p.return||p.return()}finally{if(u)throw h}}}}catch(f){i=!0,r=f}finally{try{n||null==c.return||c.return()}finally{if(i)throw r}}return a}(this.neighbors(e),this.neighbors(e))[Symbol.iterator]();!(a=(r=l.next()).done);a=!0){var c=r.value;t[c[0]][c[1]]=0}}catch(o){n=!0,i=o}finally{try{a||null==l.return||l.return()}finally{if(n)throw i}}this.adjacencyMatrix=f.matrix(t)}},{key:"measureX",value:function(e,t){var a=this;function n(e,t){var a=[],n=!0,i=!1,r=void 0;try{for(var l,c=e[Symbol.iterator]();!(n=(l=c.next()).done);n=!0){var o=l.value,s=!0,u=!1,h=void 0;try{for(var d,p=t[Symbol.iterator]();!(s=(d=p.next()).done);s=!0){var m=d.value;o!=m&&(a=a.concat([[o,m]]))}}catch(f){u=!0,h=f}finally{try{s||null==p.return||p.return()}finally{if(u)throw h}}}}catch(f){i=!0,r=f}finally{try{n||null==c.return||c.return()}finally{if(i)throw r}}return a}function i(e,t){var a=!0,n=!1,i=void 0;try{for(var r,l=e[Symbol.iterator]();!(a=(r=l.next()).done);a=!0){var c=r.value;if(c.length===t.length)for(var o=0;o<c.length&&c[o]==t[o];o++)if(o==c.length-1&&c[o]==t[o])return!0}}catch(s){n=!0,i=s}finally{try{a||null==l.return||l.return()}finally{if(n)throw i}}return!1}var r=function(e,t){return e.filter((function(e){return!i(t,e)})).concat(t.filter((function(t){return!i(e,t)})))};for(var l=this.neighbors(e).filter((function(e){return a.neighbors(t).includes(e)})),c=Object(m.a)(new Set([].concat(Object(m.a)(this.neighbors(e)),Object(m.a)(this.neighbors(t))))),o=r(r(r(function(e){for(var t=[],a=0;a<e.length;a++)t=(t=t.concat([e[a]])).concat([[e[a][1],e[a][0]]]);return t}(this.edges()),n(c,c)),n(l,l)),n(this.neighbors(e),this.neighbors(e))),s=this.adjacencyMatrix.valueOf(),u=0;u<s.length;u++)for(var h=0;h<=u;h++)i(o,[u,h])?(s[u][h]=1,s[h][u]=1):(s[u][h]=0,s[h][u]=0);this.adjacencyMatrix=f.matrix(s)}},{key:"newParticle",value:function(){for(var e=this.adjacencyMatrix.valueOf(),t=0;t<e.length;t++)e[t]=e[t].concat(0);e=e.concat([[0]]);for(var a=0;a<e.length-1;a++)e[e.length-1]=e[e.length-1].concat(0);this.adjacencyMatrix=f.matrix(e),this.numVerticies+=1}},{key:"newEdge",value:function(e,t){var a=this.adjacencyMatrix.valueOf();1!==a[e][t]&&1!==a[t][e]||console.warn("There already exists an edge there! ("+e+","+t+") is already in the list of edges"),a[e][t]=1,a[t][e]=1,this.adjacencyMatrix=f.matrix(a)}},{key:"getAdjacencyMatrix",value:function(){return this.adjacencyMatrix.valueOf()}}]),Object(s.a)(e,[{key:"getState",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"bin",t="",a=0;a<f.pow(2,this.numVerticies);a++){if("bin"==e)var n=a.toString(2).padStart(this.numVerticies,"0");else n=a;t=t.concat("|"+n+">\t"+this.state.subset(f.index(a,0))+"\n")}return t}}]),e}(),g=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("td",{id:this.props.isSelected?"selectedTool":"unselectedTool",className:"toolbarCell",onClick:function(t){e.props.handleClick(t)}},i.a.createElement("img",{src:"/mbqc-simulator"+"/icons/icons_".concat(this.props.id,".png"),id:this.props.id,alt:"",className:"buttonImage"}))}}]),t}(i.a.Component),y=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.clickHandler_settings,t=this.props.selectedTool,a=this.props.clickHandler;return i.a.createElement("div",{className:"toolbar"},i.a.createElement("table",{className:"toolbarTable"},i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement(g,{id:"settings",handleClick:e}),i.a.createElement("td",{colSpan:"6"}," ",i.a.createElement("p",{className:"titleText"}," Cluster State Simulator ")," ")),i.a.createElement("tr",null,i.a.createElement(g,{id:"newParticle",isSelected:"newParticle"==t,handleClick:a}),i.a.createElement(g,{id:"newEdge",isSelected:"newEdge"==t,handleClick:a}),i.a.createElement(g,{id:"moveParticles",isSelected:"moveParticles"==t,handleClick:a}),i.a.createElement(g,{id:"unitary",isSelected:"unitary"==t,handleClick:a}),i.a.createElement(g,{id:"mx",isSelected:"mx"==t,handleClick:a}),i.a.createElement(g,{id:"my",isSelected:"my"==t,handleClick:a}),i.a.createElement(g,{id:"mz",isSelected:"mz"==t,handleClick:a})))))}}]),t}(i.a.Component),b=function(e){function t(e){var a;Object(o.a)(this,t);var n=(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).props.info;return n.onUpdate({x:0,y:0},n.number),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.info;return i.a.createElement(p.a.div,{onUpdate:function(e,a){return t.onUpdate(e,t.number)},animate:{x:t.initialX,y:t.initialY},style:{backgroundColor:"blue",borderRadius:"50%",width:"10vh",height:"10vh",position:"fixed",top:"0vh",left:"0vw",border:"1vh solid #000",zIndex:"10000"},drag:t.draggable,dragConstraints:t.particleBox,onClick:function(a,n){return e.props.clickHandler(a,t.number)}},i.a.createElement("p",{id:"particleText",style:{textAlign:"center",verticalAlign:"middle",lineHeight:"50%",color:"white",fontSize:"4vh",pointerEvents:"none"}},t.number))}}]),t}(i.a.Component),x=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.firstVertex,t=this.props.secondVertex,a=.06*window.innerHeight;!!window.chrome&&(!!window.chrome.webstore||window.chrome.runtime);return i.a.createElement("line",{x1:e.x+a,y1:e.y+a,x2:t.x+a,y2:t.y+a})}}]),t}(i.a.Component),j=function(e){function t(e){var a;Object(o.a)(this,t),a=Object(u.a)(this,Object(h.a)(t).call(this,e));var n=new v(a.props.adjacencyMatrix);return a.state={positionTable:{},graph:n,edges:n.edges(),mxhelper:[void 0,!1],edgehelper:[void 0,!1],extraParticles:[]},a.particleClickHandler=a.particleClickHandler.bind(Object(c.a)(a)),a.onUpdate=a.onUpdate.bind(Object(c.a)(a)),a.newParticleCreator=a.newParticleCreator.bind(Object(c.a)(a)),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"onUpdate",value:function(e,t){var a=this.state.positionTable,n="undefined"!==typeof e.x?e.x:a[t].x,i="undefined"!==typeof e.y?e.y:a[t].y;a[t]={x:n,y:i},this.setState({positionTable:a})}},{key:"particleClickHandler",value:function(e,t){if("mx"!==this.props.selectedTool&&this.setState({mxhelper:[void 0,!1]}),"newEdge"!==this.props.selectedTool&&this.setState({edgehelper:[void 0,!1]}),"mz"===this.props.selectedTool){console.log("measurement in z direction initiated by click on particle #"+t);var a=this.state.graph;a.measureZ(t),this.setState({graph:a,edges:a.edges()})}if("my"===this.props.selectedTool){console.log("measurement in y direction initiated by click on particle #"+t);var n=this.state.graph;n.measureY(t),this.setState({graph:n,edges:n.edges()})}if("mx"!==this.props.selectedTool||this.state.mxhelper[1]){if("mx"===this.props.selectedTool&&this.state.mxhelper[1]){console.log("measurement in x direction initiated with special neighbor #"+t);var i=this.state.graph;i.measureX(t,this.state.mxhelper[0]),this.setState({graph:i,edges:i.edges()}),this.setState({mxhelper:[void 0,!1]})}}else console.log("measurement in x direction initiated by click on particle #"+t+" measurement will begin once a second particle is selected"),this.setState({mxhelper:[t,!0]});if("newEdge"!==this.props.selectedTool||this.state.edgehelper[1]){if("newEdge"===this.props.selectedTool&&this.state.edgehelper[1]){console.log("edge creation initiated with new neighbor #"+t);var r=this.state.graph;r.newEdge(this.state.edgehelper[0],t),this.setState({graph:r,edges:r.edges()}),this.setState({edgehelper:[void 0,!1]})}}else console.log("edge creation initiated by click on particle #"+t+" creation will begin once a second particle is selected"),this.setState({edgehelper:[t,!0]})}},{key:"newParticleCreator",value:function(e){if("newParticle"===this.props.selectedTool){var t=this.state.graph;t.newParticle();var a={number:t.getAdjacencyMatrix().length,initialX:"calc("+e.clientX+"px - 6vh)",initialY:"calc("+e.clientY+"px - 6vh)",particleBox:this.props.container,draggable:this.props.canDrag,onUpdate:this.onUpdate},n=i.a.createElement(b,{info:a,key:a.number.toString(),clickHandler:this.particleClickHandler});this.setState({extraParticles:this.state.extraParticles.concat(n)}),this.setState({graph:t,edges:t.edges()})}}},{key:"render",value:function(){for(var e=[],t=[],a=this.state.graph.getAdjacencyMatrix().length,n=0;n<a;n++){var r={number:n,initialX:150*n+300,initialY:150*Math.floor(n/5)+300+150*Math.cos(2*n/Math.PI),particleBox:this.props.container,draggable:this.props.canDrag,onUpdate:this.onUpdate};e.push(i.a.createElement(b,{info:r,key:r.number.toString(),clickHandler:this.particleClickHandler}))}var l=!0,c=!1,o=void 0;try{for(var s,u=this.state.edges[Symbol.iterator]();!(l=(s=u.next()).done);l=!0){var h=s.value,d=this.state.positionTable;"undefined"!==typeof d&&"undefined"!==typeof d[h[0]]&&"undefined"!==typeof d[h[1]]&&t.push(i.a.createElement(x,{firstVertex:d[h[0]],secondVertex:d[h[1]],key:"edge ("+h[0]+","+h[1]+")"}))}}catch(p){c=!0,o=p}finally{try{l||null==u.return||u.return()}finally{if(c)throw o}}return i.a.createElement("div",{className:"particlecanvas",onClick:this.newParticleCreator},e,i.a.createElement("svg",null,t))}}]),t}(i.a.Component),k=function(e){function t(e){var a;Object(o.a)(this,t);for(var n=(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).props.adjacencyMatrix[0].toString(),i=1;i<a.props.adjacencyMatrix.length;i++)n+="\n"+a.props.adjacencyMatrix[i].toString();return a.state={matrixInputValue:n},a.matrixInputSubmit=a.matrixInputSubmit.bind(Object(c.a)(a)),a.matrixInputChange=a.matrixInputChange.bind(Object(c.a)(a)),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"matrixInputSubmit",value:function(e){var t=this.state.matrixInputValue.split("\n");for(var a in t)t[a]=t[a].split(",").map((function(e){return parseInt(e,10)}));console.log(t),this.props.updateAdjacencyMatrix(t),e.preventDefault()}},{key:"matrixInputChange",value:function(e){this.setState({matrixInputValue:e.target.value})}},{key:"render",value:function(){return i.a.createElement("div",{class:"settingsPane"},i.a.createElement("form",{onSubmit:this.matrixInputSubmit},i.a.createElement("textarea",{value:this.state.matrixInputValue,onChange:this.matrixInputChange}),i.a.createElement("input",{type:"submit",value:"Import"})),i.a.createElement("div",{class:"closer",onClick:this.props.closer}))}}]),t}(i.a.Component),w=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).page=i.a.createRef(),a.state={selectedTool:"newParticle",settingsPaneVisible:!1,adjacencyMatrix:[[0,1,0,0,1],[1,0,1,0,0],[0,1,0,1,0],[0,0,1,0,1],[1,0,0,1,0]]},a.toolbarClickHandler=a.toolbarClickHandler.bind(Object(c.a)(a)),a.settingsWheelClickHandler=a.settingsWheelClickHandler.bind(Object(c.a)(a)),a.settingsPaneCloser=a.settingsPaneCloser.bind(Object(c.a)(a)),a.updateAdjacencyMatrix=a.updateAdjacencyMatrix.bind(Object(c.a)(a)),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"toolbarClickHandler",value:function(e){var t=this;this.setState({selectedTool:e.target.getAttribute("id")},(function(){return console.log("tool switched to: "+t.state.selectedTool)}))}},{key:"settingsWheelClickHandler",value:function(e){this.setState({settingsPaneVisible:!0},(function(){return console.log("Settings Pane Opened")}))}},{key:"settingsPaneCloser",value:function(e){this.setState({settingsPaneVisible:!1},(function(){return console.log("Settings Pane Closed")}))}},{key:"updateAdjacencyMatrix",value:function(e){this.setState({adjacencyMatrix:e})}},{key:"render",value:function(){var e={color:"black",display:this.state.settingsPaneVisible?"":"none"};return i.a.createElement("div",{id:"page",ref:this.page},i.a.createElement("div",{class:"settingsPaneBg",style:e},i.a.createElement(k,{closer:this.settingsPaneCloser,adjacencyMatrix:this.state.adjacencyMatrix,updateAdjacencyMatrix:this.updateAdjacencyMatrix})),i.a.createElement(y,{container:this.page,selectedTool:this.state.selectedTool,clickHandler:this.toolbarClickHandler,clickHandler_settings:this.settingsWheelClickHandler}),i.a.createElement(j,{container:this.page,selectedTool:this.state.selectedTool,canDrag:"moveParticles"==this.state.selectedTool,adjacencyMatrix:this.state.adjacencyMatrix}))}}]),t}(i.a.Component);var O=function(){return i.a.createElement(w,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(i.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[20,1,2]]]);
//# sourceMappingURL=main.9a2daae6.chunk.js.map